spec_version: v1
name: router_agent
style: react
llm: watsonx/ibm/granite-3-2-8b-instruct

description: >
  Routes user queries to specialized agents (FAQ, Outline, Login, Profile, Timetable).

instructions: >
  Step 1: Send the user message to the collaborator "intent_agent" to classify intent.
          Expect JSON: {"intent": "PUBLIC_QA|COURSE_OUTLINE|LOGIN|MY_PROFILE|MY_TIMETABLE", "confidence": 0.0-1.0}
  Step 2: Route by intent:
          - PUBLIC_QA       -> send ORIGINAL user message to "faq_agent"
          - COURSE_OUTLINE  -> send to "outline_agent"
          - LOGIN           -> send to "login_agent"
          - MY_PROFILE      -> send to "profile_agent"
          - MY_TIMETABLE    -> send to "timetable_agent"
          If missing/unknown or confidence < 0.5, ask a brief clarifying question.
  Step 3: Return ONLY the collaborator’s final answer.

collaborators:
  - "intent_test"     # 你截图里那个分类器
  - "FAQ_AskUs"                   # 示例：填你的 FAQ agent 的“名称”
  - "Outline_new_Yihang_9665h0"          # 示例：课程大纲 agent 名称
  # - "login_agent"                 # 示例：登录
  # - "profile_agent"               # 示例：个人信息
  # - "Student_Timetable_Leo"       # 课表



welcome_content:
  welcome_message: "Hello, I'm your UTAS Coursemate!"
  description: "Ask me about outlines, FAQs, login/profile, or your timetable."
  is_default_message: false

starter_prompts:
  is_default_prompts: false
  prompts:
    - id: "general_q1"
      title: "General question"
      subtitle: "Quick access to AskUs"
      prompt: "How can I enroll in a new unit?"
      state: "active"
    - id: "course_q1"
      title: "Course outline"
      subtitle: "What you'll learn"
      prompt: "What can I learn from KIT700?"
      state: "active"
